<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Move Stock</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    font-family:system-ui, sans-serif;
    background:#f2f3f7;
    margin:0;
}
.header{
    background:#4f46e5;
    color:white;
    padding:14px;
    text-align:center;
    font-weight:600;
}
.container{
    padding:30px 20px;
    text-align:center;
}

.scanner-wrapper{
    width:220px;
    height:220px;
    border-radius:50%;
    border:4px solid #4f46e5;
    margin:30px auto;
    overflow:hidden;
    display:none;
    position:relative;
}

#reader{
    width:100%;
    height:100%;
}

.scan-line{
    position:absolute;
    width:100%;
    height:2px;
    background:#4f46e5;
    top:50%;
    animation:scan 2s linear infinite;
}

@keyframes scan{
    0%{top:0;}
    50%{top:100%;}
    100%{top:0;}
    100%{top:0;}
}

button{
    background:#4f46e5;
    color:white;
    border:none;
    padding:14px 24px;
    border-radius:12px;
    font-size:16px;
}
</style>
</head>

<body>

<div class="header">Move Stock</div>

<div class="container">

    <div class="scanner-wrapper" id="scannerBox">
        <div id="reader"></div>
        <div class="scan-line"></div>
    </div>

    <button onclick="startScan()">Scan QR Code</button>

</div>

<script src="https://unpkg.com/html5-qrcode"></script>

<script>
let qr;

function startScan(){

    document.getElementById("scannerBox").style.display="block";

    qr = new Html5Qrcode("reader");

    qr.start(
        { facingMode:"environment" },
        { fps:10, qrbox:200 },
        function(decodedText){

            let logs =
              JSON.parse(localStorage.getItem("logs")) || [];

            logs.push({
                type:"Move Stock",
                code:decodedText,
                time:new Date().toLocaleString()
            });

            localStorage.setItem("logs",JSON.stringify(logs));

            alert("Moved Item: " + decodedText);

            qr.stop();
        }
    );
}
</script>

</body>
</html>
